function getCurrentScript(t){var e=document;if(e.currentScript)return e.currentScript.src;var i=t.stack;if(!i&&window.opera&&(i=((t+"").match(/of linked script \S+/g)||[]).join(" ")),i)return i=i.split(/[@ ]/g).pop(),i="("==i[0]?i.slice(1,-1):i;for(var n,a=e.getElementsByTagName("script"),o=0;n=a[o++];)if("interactive"===n.readyState)return n.src}function isDebug(){var t=window.location.search,e=!1;if(t){t=t.substr(1),t=t.split("&");for(var i=0,n=t.length;n>i;i++){var a=t[i].split("=");if("debug"===a[0]&&1==a[1]){e=!0;break}}}return e}var screenWidth=window.screen.width,screenHeight=window.screen.height;window.DETECTTime=window.DETECTTime||{},window.TIME_LINE=window.TIME_LINE||{},window.DETECT={ajaxUrl:"/qz/shb/detect",debug:isDebug(),toQueryString:function(t){var e,i=[],n=encodeURIComponent;for(e in t)t.hasOwnProperty(e)&&i.push(n(e)+"="+n(t[e]));return i},beacon:function(t){var e=new Image;e.src=DETECT.ajaxUrl+"?"+t.join("&")},log:function(t){t.screen=screenWidth+"x"+screenHeight,DETECT.beacon(DETECT.toQueryString(t))},runMethod:function(t){try{t()}catch(e){if(DETECT.debug)throw e;var i={msg:e.message,type:"try-catch",screen:screenWidth+"x"+screenHeight,detailMsg:getCurrentScript(e)};DETECT.log(i)}},timeLog:function(t){var e=window.TIME_LINE.getLogs(),i=e.htmlLoad||0;if(DETECT.debug||1e3*t>i)return this;var n={type:"timeOut",htmlTime:i};DETECT.log(n)}},window.DETECT.timeLog(10),window.onerror=function(t,e,i){if(DETECT.debug)return!1;var n={msg:t||"window onerror",url:e||"undefined",line:i||"undefined",type:"window-onerror"};return DETECT.log(n),!0};